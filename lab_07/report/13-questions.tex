\section{ВОПРОСЫ}

\begin{enumerate}
    \item \textbf{Какое первое состояние резольвенты?}

        Первое состояние резольвенты -- вопрос.

    \item \textbf{В каком случае система запускает алгоритм унификации? (т.е. Как эту необходимость на формальном уровне распознает система?)}

        Пролог выполняет унификацию в двух случаях:

        \begin{itemize}
            \item когда цель сопоставляется с заголовком предложения;
            \item когда используется знак равенства, который является инфиксным предикатом (предикатом, который расположен между своими аргументами, а не перед ними).
        \end{itemize}

    \item \textbf{Каково назначение использования алгоритма унификации? }

        Чтобы связать переменные из вопроса со сзначениями, находящимся в правилах и фактах.

    \item \textbf{Каков результат работы алгоритма унификации? }

\begin{lstlisting}
goal
    P1 = birthday(person("Ivan", "Petrov"), date("August", 2, 1980)),
    P1 = birthday(Name,date(_, _, 1980)), write(Name).
\end{lstlisting}

        При согласовании первой подцели переменная P1 получит значение, указанное справа от знака ``=''. При согласовании второй подцели P1 уже связана. Так как термы, находящиеся по обе стороны знака ``='' сопоставимы, то переменная Name будет связана со значением person(``Ivan'', ``Petrov''). При согласовании третьей подцели, стандартного предиката write, будет напечатано значение связанной переменной Name.

    \item \textbf{В каких пределах программы переменные уникальны? }

        Областью действия переменной в Prolog является одно предложение. В разных предложениях может использоваться одно имя перменной для обозначения разных объектов. Исключением является анонимная переменная. Каждая анонимная переменная -- это отдельный объект.

    \item \textbf{Как применяется подстановка, полученная с помощью алгоритма унификации?}

        Если унификация прошла успешно, то применяется подстановка. Переменные связываются со значениями.

    \item \textbf{Как изменяется резольвента?}

        Преобразование резольвенты выполняется с помощью редукции.

        Редукция -- замена цели телом того правила, заголовок которого унифицируется с целью.
        Новая резольвента получается в два этапа:

        \begin{enumerate}
            \item В текущей резольвенте выберается одна из целей и для неё выполняется редукция $\Rightarrow$ получаем новую коньюнкцию целей(новую резольвенту)
            \item К полученной новой резольвенте применяется подстановка, как наибольший общий унификатор цели и заголовка правила, сопоставимого с этой целью.
        \end{enumerate}

    \item \textbf{В каких случаях запускается механизм отката?}

        В том месте программы, где возможен выбор нескольких вариантов, Пролог сохраняет в специальный стек точку возврата для последующего возвращения в эту позицию. Точка возврата содержит информацию, необходимую для возобновления процедуры при откате. Выбирается один из возможных вариантов, после чего продолжается выполнение программы.

Во всех точках программы, где существуют альтернативы, в стек заносятся указатели. Если впоследствии окажется, что выбранный вариант не приводит к успеху, то осуществляется откат к последней из имеющихся в стеке точек программы, где был выбран один из альтернативных вариантов. Выбирается очередной вариант, программа продолжает свою работу. Если все варианты в точке уже были использованы, то регистрируется неудачное завершение и осуществляется переход на предыдущую точку возврата, если такая есть. При откате все связанные переменные, которые были означены после этой точки, опять освобождаются.
\end{enumerate}
